{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/pcs-proxy/src/Component/Setting/Submit.jsx\";\nimport React, { Component } from \"react\";\nimport { Collapse, Col, Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport Aws from \"../../scripts/Aws\"; // redux\n\nimport { connect } from \"react-redux\";\nimport { setAuthority } from \"../../redux/actions\";\n\nvar Submitlink =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Submitlink, _Component);\n\n  function Submitlink(props) {\n    var _this;\n\n    _classCallCheck(this, Submitlink);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Submitlink).call(this, props));\n    _this.state = {\n      collapse: false,\n      symbol: \"\",\n      lownumber: 0,\n      highnumber: 1000000,\n      list: \"\",\n      url: \"\"\n    };\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitLink = _this.submitLink.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Submitlink, [{\n    key: \"toggle\",\n    value: function toggle() {\n      this.setState({\n        collapse: !this.state.collapse\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    } // パスワードを変更する\n\n  }, {\n    key: \"submitLink\",\n    value: function () {\n      var _submitLink = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var morethan, lessthan, list, url, symbol, apiObj, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // トークンIDを用いてEOSからトークンの所有者及び、subsig公開鍵を取得する\n                morethan = this.state.lownumber;\n                lessthan = this.state.highnumber;\n                list = this.state.list;\n                url = this.state.link;\n                symbol = this.state.symbol;\n\n                if (!(morethan > lessthan)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", window.alert(\"ID範囲の入力に誤りがあります。この範囲に数は存在しません。\"));\n\n              case 7:\n                apiObj = {\n                  \"morethan\": morethan,\n                  \"lessthan\": lessthan,\n                  \"list\": list,\n                  \"url\": url,\n                  \"symbol\": symbol\n                };\n                _context.next = 10;\n                return Aws.sendPermissionLink(apiObj);\n\n              case 10:\n                response = _context.sent;\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function submitLink() {\n        return _submitLink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Col, {\n        xs: \"12\",\n        className: \"p-3 mb-3 normal-shadow border-special\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"\\u30EA\\u30F3\\u30AF\\u3048\\u3042\\u3069\\u308D\\u3063\\u3077\"), \"\\u304D\\u307E\\u3063\\u305F\\u4EBA\\u305F\\u3061\\u3060\\u3051\\u304C\\u77E5\\u308C\\u308B\\u30EA\\u30F3\\u30AF\\u3092\\u4F5C\\u308A\\u307E\\u3059\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: this.toggle,\n        style: {\n          marginBottom: '1rem'\n        },\n        className: \"my-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u3069\\u308D\\u3063\\u3077\"), React.createElement(Collapse, {\n        isOpen: this.state.collapse,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"symbol\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"\\u30B3\\u30DF\\u30E5\\u30CB\\u30C6\\u30A3\\u540D\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"symbol\",\n        onChange: this.handleChange,\n        value: this.state.symbol,\n        placeholder: \"(\\u4E09\\u6587\\u5B57\\u304F\\u3089\\u3044\\u306E\\u82F1\\u5B57\\u5927\\u6587\\u5B57)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"\\u7D39\\u4ECB\\u3057\\u305F\\u3044URL\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"link\",\n        onChange: this.handleChange,\n        value: this.state.link,\n        placeholder: \"http://\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      })), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"\\u3053\\u3053\\u304B\\u3089\\u4E0B\\u306F\\u4EFB\\u610F\\u3067\\u3059\\u3002\"), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"lownumber\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"\\u6761\\u4EF61 X (\\u4EFB\\u610F)\"), React.createElement(Input, {\n        type: \"number\",\n        name: \"lownumber\",\n        onChange: this.handleChange,\n        placeholder: \"\\u4F1A\\u54E1ID > X \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"highnumber\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\u6761\\u4EF62 Y (\\u4EFB\\u610F)\"), React.createElement(Input, {\n        type: \"number\",\n        name: \"highnumber\",\n        onChange: this.handleChange,\n        placeholder: \"\\u4F1A\\u54E1ID < Y\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"\\u6761\\u4EF6\\uFF13\\uFF1A\\u8907\\u6570ID\\u6307\\u5B9A (\\u4EFB\\u610F)\"), React.createElement(Input, {\n        type: \"number\",\n        name: \"list\",\n        onChange: this.handleChange,\n        placeholder: \"\\u4F8B: 1,4,12 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(Button, {\n        onClick: this.submitLink,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"\\u9001\\u308B\"))));\n    }\n  }]);\n\n  return Submitlink;\n}(Component);\n\nexport default connect()(Submitlink);","map":{"version":3,"sources":["/var/www/html/pcs-proxy/src/Component/Setting/Submit.jsx"],"names":["React","Component","Collapse","Col","Button","Form","FormGroup","Label","Input","Aws","connect","setAuthority","Submitlink","props","state","collapse","symbol","lownumber","highnumber","list","url","toggle","bind","handleChange","submitLink","setState","e","target","name","value","morethan","lessthan","link","window","alert","apiObj","sendPermissionLink","response","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Collapse, Col, Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport Aws from \"../../scripts/Aws\";\n// redux\nimport { connect } from \"react-redux\";\nimport { setAuthority } from \"../../redux/actions\";\n\nclass Submitlink extends Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            collapse: false,\n            symbol: \"\",\n            lownumber:0,\n            highnumber:1000000,\n            list: \"\",\n            url:\"\"\n        };\n\n        this.toggle = this.toggle.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.submitLink = this.submitLink.bind(this);\n    }\n\n    toggle() {\n        this.setState({ collapse: !this.state.collapse });\n    }\n\n    handleChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }\n\n    // パスワードを変更する\n    async submitLink() {\n\n        // トークンIDを用いてEOSからトークンの所有者及び、subsig公開鍵を取得する\n        const morethan = this.state.lownumber;\n        const lessthan = this.state.highnumber;\n        const list = this.state.list;\n        const url = this.state.link;\n        const symbol = this.state.symbol\n        \n        if(morethan>lessthan){return window.alert(\"ID範囲の入力に誤りがあります。この範囲に数は存在しません。\");}\n\n        const apiObj = {\n            \"morethan\":morethan,\n            \"lessthan\":lessthan,\n            \"list\":list,\n            \"url\":url,\n            \"symbol\":symbol\n        };\n        const response = await Aws.sendPermissionLink(apiObj);\n    }\n\n\n    render() {\n        return (\n            <Col xs=\"12\" className=\"p-3 mb-3 normal-shadow border-special\">\n                <h5>リンクえあどろっぷ</h5>\n                きまった人たちだけが知れるリンクを作ります\n                <br/>\n\n                <Button onClick={this.toggle} style={{ marginBottom: '1rem' }} className=\"my-2\">どろっぷ</Button>\n\n                <Collapse isOpen={this.state.collapse}>\n                    <Form>\n                        <FormGroup>\n                            <Label for=\"symbol\">コミュニティ名</Label>\n                            <Input type=\"text\" name=\"symbol\" onChange={this.handleChange} value={this.state.symbol} placeholder=\"(三文字くらいの英字大文字)\" />\n                        </FormGroup>\n\n                        <FormGroup>\n                            <Label for=\"link\">紹介したいURL</Label>\n                            <Input type=\"text\" name=\"link\" onChange={this.handleChange} value={this.state.link} placeholder=\"http://\" />\n                        </FormGroup>\n                        <h5>ここから下は任意です。</h5>\n                        <FormGroup>\n                            <Label for=\"lownumber\">条件1 X (任意)</Label>\n                            <Input type=\"number\" name=\"lownumber\" onChange={this.handleChange}  placeholder=\"会員ID > X \" />\n                        </FormGroup>\n\n                        <FormGroup>\n                            <Label for=\"highnumber\">条件2 Y (任意)</Label>\n                            <Input type=\"number\" name=\"highnumber\" onChange={this.handleChange}  placeholder=\"会員ID < Y\" />\n                        </FormGroup>\n\n                        <FormGroup>\n                            <Label for=\"list\">条件３：複数ID指定 (任意)</Label>\n                            <Input type=\"number\" name=\"list\" onChange={this.handleChange}  placeholder=\"例: 1,4,12 \" />\n                        </FormGroup>\n\n                        <Button onClick={this.submitLink}>送る</Button>\n                    </Form>\n                </Collapse>\n            </Col>\n        );\n    }\n}\n\nexport default connect()(Submitlink);\n"]},"metadata":{},"sourceType":"module"}