{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/pcs-proxy/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/pcs-proxy/src/Component/Setting/Token.jsx\";\nimport React, { Component } from \"react\";\nimport { Collapse, Col, Button } from \"reactstrap\";\nimport Aws from \"../../scripts/Aws\"; // 自分の所有しているトークンの開示\n\nvar Token =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Token, _Component);\n\n  function Token(props) {\n    var _this;\n\n    _classCallCheck(this, Token);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Token).call(this, props));\n    _this.state = {\n      collapse: false,\n      tokenList: []\n    };\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.search = _this.search.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Token, [{\n    key: \"toggle\",\n    value: function toggle() {\n      this.setState({\n        collapse: !this.state.collapse\n      });\n    } // \n\n  }, {\n    key: \"search\",\n    value: function () {\n      var _search = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var tokenList, cmntyList;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                tokenList = [];\n                _context.next = 3;\n                return Aws.getCmntyList();\n\n              case 3:\n                cmntyList = _context.sent;\n                cmntyList.map(function (cmnt) {\n                  var symbol = cmnt.pcs_name;\n\n                  try {\n                    var id = Number(JSON.parse(localStorage.getItem(symbol)).id);\n                    var data = {\n                      symbol: symbol,\n                      id: id\n                    };\n                    console.log(data);\n                    return tokenList.push(data);\n                  } catch (_unused) {\n                    return 0;\n                  }\n                });\n                this.setState({\n                  tokenList: tokenList\n                });\n                this.toggle();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function search() {\n        return _search.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Col, {\n        xs: \"12\",\n        className: \"p-3 mb-3 normal-shadow border-special\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"\\u30ED\\u30FC\\u30AB\\u30EB\\u306E\\u30C8\\u30FC\\u30AF\\u30F3\\u4E00\\u89A7\"), \"\\u7AEF\\u672B\\u4E0A\\u306B\\u4FDD\\u7BA1\\u3057\\u3066\\u3044\\u308B\\u30C8\\u30FC\\u30AF\\u30F3\\u4E00\\u89A7\\u3092\\u8868\\u793A\\u3057\\u307E\\u3059\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: this.search,\n        className: \"my-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"\\u8ABF\\u3079\\u308B\"), React.createElement(Collapse, {\n        isOpen: this.state.collapse,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.state.tokenList.map(function (token) {\n        return React.createElement(\"p\", {\n          key: token.symbol,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, token.symbol, \": \", token.id, \" \");\n      })));\n    }\n  }]);\n\n  return Token;\n}(Component);\n\nexport default Token;","map":{"version":3,"sources":["/var/www/html/pcs-proxy/src/Component/Setting/Token.jsx"],"names":["React","Component","Collapse","Col","Button","Aws","Token","props","state","collapse","tokenList","toggle","bind","search","setState","getCmntyList","cmntyList","map","cmnt","symbol","pcs_name","id","Number","JSON","parse","localStorage","getItem","data","console","log","push","token"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,EAAmBC,GAAnB,EAAwBC,MAAxB,QAAsC,YAAtC;AACA,OAAOC,GAAP,MAAgB,mBAAhB,C,CAEA;;IACMC,K;;;;;AAEF,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,+EAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KADD;AAETC,MAAAA,SAAS,EAAE;AAFF,KAAb;AAKA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,uDAAd;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,uDAAd;AATe;AAUlB;;;;6BAEQ;AACL,WAAKE,QAAL,CAAc;AAAEL,QAAAA,QAAQ,EAAE,CAAC,KAAKD,KAAL,CAAWC;AAAxB,OAAd;AACH,K,CAED;;;;;;;;;;;;;AAEUC,gBAAAA,S,GAAY,E;;uBACML,GAAG,CAACU,YAAJ,E;;;AAAlBC,gBAAAA,S;AACNA,gBAAAA,SAAS,CAACC,GAAV,CAAc,UAACC,IAAD,EAAU;AACpB,sBAAMC,MAAM,GAAGD,IAAI,CAACE,QAApB;;AACA,sBAAI;AACA,wBAAMC,EAAE,GAAGC,MAAM,CAACC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBP,MAArB,CAAX,EAAyCE,EAA1C,CAAjB;AACA,wBAAMM,IAAI,GAAG;AAAER,sBAAAA,MAAM,EAANA,MAAF;AAAUE,sBAAAA,EAAE,EAAFA;AAAV,qBAAb;AACAO,oBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,2BAAOjB,SAAS,CAACoB,IAAV,CAAeH,IAAf,CAAP;AACH,mBALD,CAKE,gBAAM;AACJ,2BAAO,CAAP;AACH;AACJ,iBAVD;AAWA,qBAAKb,QAAL,CAAc;AACVJ,kBAAAA,SAAS,EAATA;AADU,iBAAd;AAGA,qBAAKC,MAAL;;;;;;;;;;;;;;;;6BAGK;AACL,aACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,IAAR;AAAa,QAAA,SAAS,EAAC,uCAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8EADJ,0IAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKE,MAAtB;AAA8B,QAAA,SAAS,EAAC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAJJ,EAMI,oBAAC,QAAD;AAAU,QAAA,MAAM,EAAE,KAAKL,KAAL,CAAWC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ,KAAKD,KAAL,CAAWE,SAAX,CAAqBO,GAArB,CAAyB,UAACc,KAAD,EAAW;AAChC,eACI;AAAG,UAAA,GAAG,EAAEA,KAAK,CAACZ,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuBY,KAAK,CAACZ,MAA7B,QAAuCY,KAAK,CAACV,EAA7C,MADJ;AAGH,OAJD,CAFR,CANJ,CADJ;AAkBH;;;;EA1DepB,S;;AA6DpB,eAAeK,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Collapse, Col, Button } from \"reactstrap\";\nimport Aws from \"../../scripts/Aws\";\n\n// 自分の所有しているトークンの開示\nclass Token extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            collapse: false,\n            tokenList: []\n        };\n\n        this.toggle = this.toggle.bind(this);\n        this.search = this.search.bind(this);\n    }\n\n    toggle() {\n        this.setState({ collapse: !this.state.collapse });\n    }\n\n    // \n    async search() {\n        const tokenList = [];\n        const cmntyList = await Aws.getCmntyList();\n        cmntyList.map((cmnt) => {\n            const symbol = cmnt.pcs_name;\n            try {\n                const id = Number(JSON.parse(localStorage.getItem(symbol)).id);\n                const data = { symbol, id };\n                console.log(data);\n                return tokenList.push(data);\n            } catch {\n                return 0;\n            }\n        })\n        this.setState({\n            tokenList\n        });\n        this.toggle();\n    }\n\n    render() {\n        return (\n            <Col xs=\"12\" className=\"p-3 mb-3 normal-shadow border-special\">\n                <h5>ローカルのトークン一覧</h5>\n                端末上に保管しているトークン一覧を表示します\n                <br />\n                <Button onClick={this.search} className=\"my-2\">調べる</Button>\n\n                <Collapse isOpen={this.state.collapse}>\n                    {\n                        this.state.tokenList.map((token) => {\n                            return (\n                                <p key={token.symbol}>{token.symbol}: {token.id} </p>\n                            )\n                        })\n                    }\n                </Collapse>\n            </Col>\n        );\n    }\n}\n\nexport default Token;"]},"metadata":{},"sourceType":"module"}